<div class="container mt-5">
  <div class="row justify-content-center mt-4">
    <%= render partial: 'shared/navbar' %>

    <h3>Third Spaces matching your search terms</h3>
    <div class="scroll-box">
      <div class="d-flex">
        <% if @spaces.any? %>
          <% @spaces.each do |third_space_poro| %>
            <div class="rounded-entry me-5">
              <h3><%= link_to "#{third_space_poro.name}", third_space_path(third_space_poro.yelp_id) %></h3>
              <p><strong>Category:</strong> <%= third_space_poro.category %></p>
              <p><strong>Address:</strong> <%= third_space_poro.address %></p>
              <p><strong>Rating:</strong> <%= third_space_poro.rating %></p>
              <% if @saved_yelp_ids.include?(third_space_poro.yelp_id) %>
                <form class="container-fluid d-flex justify-content-between" action="/third_spaces/unfavorite" method="delete" >
                  <button class="btn btn-outline-success me-2" name="yelp_id" id="yelp_id" value="<%= third_space_poro.yelp_id %>" type="submit">Remove Favorite</button>
                </form>
              <% else %>
                <form class="container-fluid d-flex justify-content-between" action="/third_spaces/favorite" method="post" >
                  <button class="btn btn-outline-success me-2" name="yelp_id" id="yelp_id" value="<%= third_space_poro.yelp_id %>" type="submit">Favorite</button>
                </form>
              <% end %>
            </div>
          <% end %>
        <% else %>
          No Third Spaces found with these search terms.
        <% end %>
      </div>
</div>
  </div>
</div>

<div id="Advanced Search">
  <div class="justify-content-center align-items-center">
   <div class="container text-center mt-5">
    <div class="mb-3">

    <div class="container text-center mt-5">
    <div class="mb-3">


<%= form_tag("/third_spaces/search", method: "get") do %> 



        <div class="justify-content-center align-items-center">
          <div class="row">


            <div class="col-sm-3">
              <h4>Moods</h4>
              <% moods_array = ['Happy', 'Sad', 'Studious', 'Social', 'Chill', 'Party'] %>
              <% moods_array.each do |mood| %>
                <%= check_box_tag 'tags[]', mood, false, class: 'custom-checkbox-input' %> <%= mood %><br>
              <% end %>
            </div>

            <div class="col-sm-3">
            <h3>Advanced Search</h3>
              <h4>Features</h4>
              <% features_options = {
                'Staff Responsiveness' => ['Pushy', 'Helpful', 'Respectful'],
                'Volume' => ['Loud', 'Quiet', 'Average'],
                'Lighting' => ['Bright', 'Moody', 'Average Lighting']
              } %>
              <% features_options.each do |feature, options| %>
                <%= label_tag feature %>
                <%= select_tag "tags[]", options_for_select(options), multiple: true, class: 'form-select' %><br>
              <% end %>
            </div>

            <div class="col-sm-4">
              <% labels_array = ['Accessible Entrance', 'BIPOC Friendly', 'Child Friendly', 'Customer Restrooms', 'Gender Neutral Restrooms', 'Parking', 'Purchase Necessary', 'Public Transportation Nearby', 'Queer Friendly', 'Sober'] %>
              <% labels_array.each do |label| %>
                <%= check_box_tag 'tags[]', label, false, class: 'form-check-input' %> <%= label %><br>
              <% end %>
            </div>
          </div>
        </div>

        <%
=begin%>
  <%= hidden_field_tag 'location_json', @json %> 
<%
=end%>
        <div class="row mt-3">
          <div class="col-sm-12 text-center">
            <%= submit_tag "Search", class: "btn btn-primary" %>
          </div>
        </div>
    </div>
  </div>
  <% end %>